import{j as i}from"./index-k9bGYuq7.js";import{F as C,u as f,a as A,T as D,r as I,N as G,I as R,E as x,b as _,A as L}from"./helpers-D43u78Rz.js";import{r as w}from"./iframe-CSUbJol3.js";import"./index-DxUqIoLR.js";import"./preload-helper-PPVm8Dsz.js";const U={theme:{name:"Theme",options:["hs","nshuk"],control:{type:"select",labels:{hs:"Health Samurai",nshuk:"National Health Service"}}},itemControl:{name:"Item control",options:["none","autocomplete","drop-down","check-box","lookup","radio-button","slider","spinner","text-box"],control:{type:"select",labels:{none:"None",autocomplete:"Autocomplete","drop-down":"Drop-down","check-box":"Check box",lookup:"Lookup","radio-button":"Radio button",slider:"Slider",spinner:"Spinner","text-box":"Text box"}},description:"Questionnaire itemControl extension (or none)."},repeats:{name:"Repeating question",control:{type:"boolean"},description:"Whether the question repeats."},hasAnswerOptions:{name:"Has answer options",control:{type:"boolean"},description:"Include answerOption entries. Turn off to mimic 'without answer-options'."},answerConstraint:{name:"Answer constraint",options:["optionsOnly","optionsOrType","optionsOrString"],control:{type:"select",labels:{optionsOnly:"Options only",optionsOrType:"Options or type",optionsOrString:"Options or string"}},description:"Answer constraint profile; enabled only when options are present.",if:{arg:"hasAnswerOptions",truthy:!0}}};function P(e){const t=[...e.extensions??[]];return e.control&&t.push({url:x.ITEM_CONTROL,valueCodeableConcept:{coding:[{system:R,code:e.control}]}}),e.repeats&&t.push({url:x.MIN_OCCURS,valueInteger:1}),{linkId:e.linkId,text:e.text,type:e.type,repeats:e.repeats,answerOption:e.answerOption&&e.answerOption.length>0?e.answerOption:void 0,answerConstraint:e.answerConstraint,extension:t.length>0?t:void 0,item:e.item}}function v(e,t){const a=L[e];return t.map(o=>_(a,o))}function F({answerType:e,label:t,itemControl:a,repeats:o,hasAnswerOptions:n,answerConstraint:N,answerValues:b}){return{resourceType:"Questionnaire",status:"active",item:[P({linkId:`${e}-playground`,text:t,type:e,repeats:o,control:a==="none"?void 0:a,answerConstraint:n?N:void 0,answerOption:n?v(e,b):void 0})]}}function Y({questionnaire:e,storyId:t,theme:a}){const o=w.useMemo(()=>new C(e),[e]);w.useEffect(()=>()=>o.dispose(),[o]);const n=o.nodes[0];return f(o,t),A(e,t),n?i.jsx(D,{theme:I(a),children:i.jsx("div",{className:"af-form",style:{maxWidth:760},children:i.jsx(G,{node:n})})}):i.jsx("p",{children:"Questionnaire did not produce a node."})}const r=[{key:"Boolean",label:"Boolean question",answerType:"boolean",samples:[!0,!1]},{key:"Integer",label:"Integer question",answerType:"integer",samples:[0,1,2,3]},{key:"Decimal",label:"Decimal question",answerType:"decimal",samples:[1.1,2.5,3.75]},{key:"String",label:"String question",answerType:"string",samples:["Alpha","Bravo","Charlie"]},{key:"Text",label:"Text question",answerType:"text",samples:["Lorem ipsum dolor sit amet.","Consectetur adipiscing elit.","Sed do eiusmod tempor incididunt."]},{key:"Date",label:"Date question",answerType:"date",samples:["2024-01-01","2024-06-15","2024-12-31"]},{key:"DateTime",label:"DateTime question",answerType:"dateTime",samples:["2024-01-01T09:00:00Z","2024-06-15T14:30:00Z","2024-12-31T23:59:00Z"]},{key:"Time",label:"Time question",answerType:"time",samples:["08:00:00","12:30:00","18:45:00"]},{key:"Quantity",label:"Quantity question",answerType:"quantity",samples:[{value:1,unit:"mg",system:"http://unitsofmeasure.org",code:"mg"},{value:5,unit:"kg",system:"http://unitsofmeasure.org",code:"kg"},{value:10,unit:"mL",system:"http://unitsofmeasure.org",code:"mL"}]},{key:"Coding",label:"Coding question",answerType:"coding",samples:[{system:"http://loinc.org",code:"1234-5",display:"Example code"},{system:"http://snomed.info/sct",code:"11110000",display:"SNOMED sample"}]},{key:"Reference",label:"Reference question",answerType:"reference",samples:[{reference:"Patient/example",display:"Jane Doe"},{reference:"Patient/alpha",display:"John Doe"}]},{key:"Url",label:"URL question",answerType:"url",samples:["https://example.org","https://healthsamurai.com","https://tx.fhir.org"]},{key:"Attachment",label:"Attachment question",answerType:"attachment",samples:[{contentType:"text/plain",url:"https://example.org/doc.txt",title:"Sample document"},{contentType:"image/png",url:"https://example.org/image.png",title:"Sample image"}]}],M={title:"Questions",parameters:{layout:"padded",docs:{description:{component:"Single playground covering all question types. Use Controls to explore item-control, repeating, and answer constraint combinations."}}},argTypes:U,args:{theme:"hs",itemControl:"none",repeats:!1,answerConstraint:"optionsOnly",hasAnswerOptions:!1}};function s(e){return{name:e.label,render:(t,a)=>{const o=F({answerType:e.answerType,label:e.label,answerValues:e.samples,...t});return i.jsx(Y,{questionnaire:o,storyId:a.id,theme:t.theme})}}}const p=s(r[0]),c=s(r[1]),m=s(r[2]),l=s(r[3]),u=s(r[4]),d=s(r[5]),y=s(r[6]),g=s(r[7]),S=s(r[8]),h=s(r[9]),O=s(r[10]),T=s(r[11]),k=s(r[12]);p.parameters={...p.parameters,docs:{...p.parameters?.docs,source:{originalSource:"makeStory(PLAYGROUND_CONFIGS[0])",...p.parameters?.docs?.source}}};c.parameters={...c.parameters,docs:{...c.parameters?.docs,source:{originalSource:"makeStory(PLAYGROUND_CONFIGS[1])",...c.parameters?.docs?.source}}};m.parameters={...m.parameters,docs:{...m.parameters?.docs,source:{originalSource:"makeStory(PLAYGROUND_CONFIGS[2])",...m.parameters?.docs?.source}}};l.parameters={...l.parameters,docs:{...l.parameters?.docs,source:{originalSource:"makeStory(PLAYGROUND_CONFIGS[3])",...l.parameters?.docs?.source}}};u.parameters={...u.parameters,docs:{...u.parameters?.docs,source:{originalSource:"makeStory(PLAYGROUND_CONFIGS[4])",...u.parameters?.docs?.source}}};d.parameters={...d.parameters,docs:{...d.parameters?.docs,source:{originalSource:"makeStory(PLAYGROUND_CONFIGS[5])",...d.parameters?.docs?.source}}};y.parameters={...y.parameters,docs:{...y.parameters?.docs,source:{originalSource:"makeStory(PLAYGROUND_CONFIGS[6])",...y.parameters?.docs?.source}}};g.parameters={...g.parameters,docs:{...g.parameters?.docs,source:{originalSource:"makeStory(PLAYGROUND_CONFIGS[7])",...g.parameters?.docs?.source}}};S.parameters={...S.parameters,docs:{...S.parameters?.docs,source:{originalSource:"makeStory(PLAYGROUND_CONFIGS[8])",...S.parameters?.docs?.source}}};h.parameters={...h.parameters,docs:{...h.parameters?.docs,source:{originalSource:"makeStory(PLAYGROUND_CONFIGS[9])",...h.parameters?.docs?.source}}};O.parameters={...O.parameters,docs:{...O.parameters?.docs,source:{originalSource:"makeStory(PLAYGROUND_CONFIGS[10])",...O.parameters?.docs?.source}}};T.parameters={...T.parameters,docs:{...T.parameters?.docs,source:{originalSource:"makeStory(PLAYGROUND_CONFIGS[11])",...T.parameters?.docs?.source}}};k.parameters={...k.parameters,docs:{...k.parameters?.docs,source:{originalSource:"makeStory(PLAYGROUND_CONFIGS[12])",...k.parameters?.docs?.source}}};const H=["Boolean","Integer","Decimal","String","Text","Date","DateTime","Time","Quantity","Coding","Reference","Url","Attachment"];export{k as Attachment,p as Boolean,h as Coding,d as Date,y as DateTime,m as Decimal,c as Integer,S as Quantity,O as Reference,l as String,u as Text,g as Time,T as Url,H as __namedExportsOrder,M as default};
